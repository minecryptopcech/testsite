function t_datepicker_init(e,t,a){var r=document.querySelector("#rec"+e);if(r){var n="",i=e+"_"+t,d;a?(n="#rec"+e+' [data-elem-id="'+a+'"] [data-input-lid="'+t+'"]',i=e+"_"+a+"_"+t):n="#rec"+e+' [data-input-lid="'+t+'"]';var s=r.querySelector(n),c,l;if(d=s.querySelector(".t-input-block"))if(!document.body.querySelector('.t_datepicker__inner[data-input-id="'+i+'"]'))if(!d.classList.contains("js-datepicker-rendered")){var _=d.querySelector(".t-datepicker");if(_){d.classList.add("js-datepicker-rendered"),_.setAttribute("autocomplete",navigator.userAgent.search(/Chrome/)>0?"no":"off"),d.classList.contains("t-input-block_inited-date-picker")||(d.classList.add("t-input-block_inited-date-picker"),d.style.position="relative");var o=t_datepicker__createOptions(d,r,i);o.isRendered||t_datepicker__renderCalendar(o),t_datepicker__addHandler(n+" .t-datepicker",o),t_datepicker__recalcPositionOnResize(o),s.DatePicker={options:o},s.dispatchEvent(new CustomEvent("inputReady")),s.setAttribute("data-input-ready","true")}}}}function t_datepicker__createOptions(e,t,a){var r=(window.lang||window.navigator.userLanguage||window.navigator.language).toUpperCase().slice(0,2),n=document.getElementById("allrecords");if(n){var i=n.getAttribute("data-tilda-project-lang");i&&(r=i)}for(var d=[],s=0;s<12;s++){var c=new Date(Date.UTC(2006,s,1,0,0,0));d.push(c.toLocaleDateString(r,{month:"long",timeZone:"UTC"}))}for(var l=[],_=1;_<=7;_++){var c=new Date(Date.UTC(2006,0,_,0,0,0));l.push(c.toLocaleDateString(r,{weekday:"short",timeZone:"UTC"}).substring(0,2))}var o=e.querySelector(".t-datepicker__wrapper input"),p=o.getAttribute("data-tilda-dateunvailable"),u=[],k;return p&&(u=p.split(",")),{months:d,weekDays:l,body:document.body,sundayBased:!1,pickerAttribute:"data-picker",datePickerClass:"t_datepicker__inner",selectedDayClass:"selected-day",header:'<div class="t_datepicker__header"><button class="t_datepicker__arrow t_datepicker__arrow_prev" type="button"></button><button class="t_datepicker__arrow t_datepicker__arrow_next" type="button"></button><div class="t_datepicker__label t_datepicker__label_month"><span>{{month}}</span><select class="t_datepicker__select t_datepicker__select_month" tabindex="-1">{{months}}</select></div><div class="t_datepicker__label t_datepicker__label_year"><span>{{year}}</span><select class="t_datepicker__select t_datepicker__select_year" tabindex="-1">{{years}}</select></div></div>',minDate:"1940-01-01",maxDate:"2040-12-31",nextButtonClass:"t_datepicker__arrow_next",prevButtonClass:"t_datepicker__arrow_prev",selectYearClass:"t_datepicker__select_year",selectMonthClass:"t_datepicker__select_month",isRendered:!1,isOpen:!1,rec:t,datePickerEl:null,datePickerTable:"",nextButtonEl:"",prevButtonEl:"",currentMonth:"",currentYear:"",inputEl:null,inputId:a,inputBlock:e,disablePast:-1!==u.indexOf("past"),disableFuture:-1!==u.indexOf("future"),disableMonday:-1!==u.indexOf("mo"),disableTuesday:-1!==u.indexOf("tu"),disableWednesday:-1!==u.indexOf("we"),disableThursday:-1!==u.indexOf("th"),disableFriday:-1!==u.indexOf("fr"),disableSaturday:-1!==u.indexOf("sa"),disableSunday:-1!==u.indexOf("su"),disableToday:-1!==u.indexOf("today"),dateDivider:t_datepicker__getDateDivider(o)}}function t_datepicker__renderCallback(e){if(e.isRendered&&e.isOpen){var t=e.inputEl,a=e.datePickerEl,r=t.getBoundingClientRect(),n=r.top,i=r.height,d=r.left,s=r.right,c=window,l=c.scrollX,_=c.scrollY,o=n+_,p=d+l,u=s+l,k=document.documentElement,y=k.clientHeight,h=k.clientWidth,g=a.getBoundingClientRect(),v=g.height,D=g.width,b=t.closest(".t396__artboard_scale");if(b&&window.shouldUseScaleFactor){var m=b.getAttribute("data-artboard-recid"),f=window.tn["ab"+m].scaleFactor;f&&(o*=f,p*=f,u*=f,i*=f)}var M=getComputedStyle(a),Y,E=v+2*parseInt(M.marginBlock,10),L,w,T,I=o+i,x;!(o+i+E<=y+_)&&o-_-E>0&&(I=o-E),a.style.top=I+"px",p+D<h?(a.style.right="unset",a.style.left=p+"px"):(a.style.left="unset",a.style.right=h-u+"px")}}function t_datepicker__recalcPositionOnResize(e){var t=e.rec.querySelector(".t396__artboard");t?t.addEventListener("artBoardResized",(function(){t_datepicker__renderCallback(e)})):t_onFuncLoad("t_throttle",(function(){window.ResizeObserver&&new ResizeObserver(t_throttle((function(){return t_datepicker__renderCallback(e)}),250)).observe(document.body)}))}function t_datepicker__addHandler(e,t){var a=t.body.querySelector(e),r,n=!1;["click","mousedown"].forEach((function(e){a.addEventListener(e,(function(){n?n=!1:(t_datepicker__openDatepicker(t),n=!0)}))})),document.addEventListener("click",(function(e){t_datepicker__handleClickOutside({options:t,inputField:a,event:e})})),document.body.addEventListener("popupHidden",(function(){t.isOpen&&t_datepicker__closeDatepicker(t)})),t.inputBlock.addEventListener("click",(function(e){t_datepicker__handleUpdateDate({options:t,inputField:a,event:e})})),t.datePickerEl.addEventListener("click",(function(e){t_datepicker__handleUpdateDate({options:t,inputField:a,event:e})})),a.addEventListener("focusout",(function(){t_datepicker__validateWithRestrictions(t)})),a.addEventListener("keydown",(function(e){13!==e.keyCode&&32!==e.keyCode&&"Enter"!==e.key||t_datepicker__validateWithRestrictions(t)}))}function t_datepicker__handleUpdateDate(e){var t=e.options,a=e.inputField,r=e.event,n=t.maxDate.split("-")[0],i=t.minDate.split("-")[0],d=r.target.getAttribute(t.pickerAttribute);if(d){var s=parseInt(d.split("-")[0],10);if(s<=n&&s>=i){var c=t.datePickerTable.querySelector("td.selected-day");c&&c.classList.remove("selected-day"),r.target.classList.add("selected-day"),t_datepicker__renderValue(a,d),t_datepicker__closeDatepicker(t)}}r.target&&r.target.classList.contains(t.nextButtonClass)&&(t_datepicker__goToNextMonth(t),t_datepicker__checkLimit(t)),r.target&&r.target.classList.contains(t.prevButtonClass)&&(t_datepicker__goToPrevMonth(t),t_datepicker__checkLimit(t))}function t_datepicker__handleClickOutside(e){var t=e.options,a=e.event;if(a.target){var r=a.target.closest("."+t.datePickerClass),n=!!r&&r===t.datePickerEl,i=a.target.classList.contains("t-datepicker")&&a.target===t.inputEl,d=t.isOpen;i||n||!d||t_datepicker__closeDatepicker(t)}}function t_datepicker__renderCalendar(e){var t=e.inputId,a=document.createElement("div");a.classList.add(e.datePickerClass),a.setAttribute("data-input-id",t),a.style.display="none";var r=t_datepicker__getCurrentDateString().split("-");e.sundayBased||(e.weekDays.push(e.weekDays[0]),e.weekDays.splice(0,1));for(var n=[],i=parseInt(e.minDate.slice(0,4),10);i<=parseInt(e.maxDate.slice(0,4),10);i++)n.push(i);var d=e.header.replace("{{year}}",r[0]).replace("{{years}}",t_datepicker__getOptionsHTML(n,parseInt(r[0],10))).replace("{{month}}",e.months[parseInt(r[1],10)-1]).replace("{{months}}",t_datepicker__getOptionsHTML(e.months,e.months[parseInt(r[1],10)-1]));d+='<table class="t_datepicker__body">',d+=t_datepicker__renderMonth(r[0],parseInt(r[1],10)-1,e),d+="</table>",a.innerHTML=d,e.body.insertAdjacentElement("beforeend",a),e.inputEl=e.inputBlock.querySelector(".t-datepicker"),e.datePickerEl=e.body.querySelector("."+e.datePickerClass+'[data-input-id="'+t+'"]'),e.datePickerTable=e.datePickerEl.querySelector(".t_datepicker__body"),e.nextButtonEl=e.datePickerEl.querySelector("."+e.nextButtonClass),e.prevButtonEl=e.datePickerEl.querySelector("."+e.prevButtonClass),e.currentMonth=e.datePickerEl.querySelector(".t_datepicker__label_month span"),e.currentYear=e.datePickerEl.querySelector(".t_datepicker__label_year span");var s=e.datePickerEl.querySelector(".t_datepicker__select_year"),c;t_datepicker__addSelectHandler(e.datePickerEl.querySelector(".t_datepicker__select_month"),e,e.currentMonth),t_datepicker__addSelectHandler(s,e,e.currentYear)}function t_datepicker__goToNextMonth(e){var t=e.currentYear.innerHTML,a=e.datePickerEl.querySelector("."+e.selectMonthClass),r=e.months.indexOf(e.currentMonth.innerHTML),n,i;if(11===parseInt(r,10)){n=e.months[0];var d=e.datePickerEl.querySelector("."+e.selectYearClass);i=parseInt(t,10)+1,d.value=i,e.currentYear.innerHTML=i}else n=e.months[parseInt(r,10)+1],i=t;a.value=n,e.currentMonth.innerHTML=n,e.datePickerTable.innerHTML=t_datepicker__renderMonth(i,e.months.indexOf(n),e)}function t_datepicker__goToPrevMonth(e){var t=e.currentYear.innerHTML,a=e.datePickerEl.querySelector("."+e.selectMonthClass),r=e.months.indexOf(e.currentMonth.innerHTML),n,i;if(0===parseInt(r,10)){n=e.months[11];var d=e.datePickerEl.querySelector("."+e.selectYearClass);i=parseInt(t,10)-1,d.value=i,e.currentYear.innerHTML=i}else n=e.months[parseInt(r,10)-1],i=t;a.value=n,e.currentMonth.innerHTML=n,e.datePickerTable.innerHTML=t_datepicker__renderMonth(i,e.months.indexOf(n),e)}function t_datepicker__renderMonth(e,t,a,r){var n=t_datepicker__generateDays(e,t),i;i=r?new Date(e,t,r):new Date;for(var d="<thead><tr>",s=0;s<a.weekDays.length;s++){var c;d+='<th class="t_datepicker__week-day'+(s>4?" t_datepicker__week-end":"")+'">'+a.weekDays[s]+"</th>"}var l=t_datepicker__getCurrentDateString().split("-");d+="</tr></thead><tbody>";for(var _=0,s=0;s<n.length;s++){var o,p;d+=1===n[s].getDay()?"<tr>":"",d+='<td class="t_datepicker__day-cell ',n[s].getMonth()===t?d+="t_datepicker__current-month":n[s].getMonth()<t?d+="t_datepicker__previous-month":n[s].getMonth()>t&&(d+="t_datepicker__next-month"),n[s].getFullYear()===parseInt(l[0],10)&&n[s].getMonth()+1===parseInt(l[1],10)&&n[s].getDate()===parseInt(l[2],10)&&(d+=" t_datepicker__today"),n[s].getFullYear()===i.getFullYear()&&n[s].getMonth()===i.getMonth()&&n[s].getDate()===i.getDate()&&(d+=" t_datepicker__selected-day"),_+=1,(a.disableMonday&&_+!a.sundayBased===2||a.disableTuesday&&_+!a.sundayBased===3||a.disableWednesday&&_+!a.sundayBased===4||a.disableThursday&&_+!a.sundayBased===5||a.disableFriday&&_+!a.sundayBased===6||a.disableSaturday&&_+!a.sundayBased===7||a.disableSunday&&(_+!a.sundayBased)%7==1||a.disableToday&&n[s].getFullYear()===parseInt(l[0],10)&&n[s].getMonth()+1===parseInt(l[1],10)&&n[s].getDate()===parseInt(l[2],10))&&(d+=" t_datepicker__day-cell--disabled"),7===_&&(_=0),(n[s].getFullYear()<parseInt(l[0],10)||n[s].getFullYear()===parseInt(l[0],10)&&n[s].getMonth()+1<parseInt(l[1],10)||n[s].getFullYear()===parseInt(l[0],10)&&n[s].getMonth()+1===parseInt(l[1],10)&&n[s].getDate()<parseInt(l[2],10))&&(d+=" t_datepicker__past",a.disablePast&&(d+=" t_datepicker__day-cell--disabled")),(n[s].getFullYear()>parseInt(l[0],10)||n[s].getFullYear()===parseInt(l[0],10)&&n[s].getMonth()+1>parseInt(l[1],10)||n[s].getFullYear()===parseInt(l[0],10)&&n[s].getMonth()+1===parseInt(l[1],10)&&n[s].getDate()>parseInt(l[2],10))&&(d+=" t_datepicker__future",a.disableFuture&&(d+=" t_datepicker__day-cell--disabled")),d+='"',d+=a.pickerAttribute+'="',d+=n[s].getFullYear()+"-",d+=n[s].getMonth()+1+"-",d+=n[s].getDate()+'"',d+=">",d+=n[s].getDate(),d+=0===n[s].getDay()?"</tr>":""}return d+="</tbody>"}function t_datepicker__generateDays(e,t){var a=new Date(e,t,1),r=[],n=a.getDay()-1==-1?6:a.getDay()-1;a.setDate(a.getDate()-n);for(var i=0;i<n;i++)r.push(new Date(a)),a.setDate(a.getDate()+1);for(;a.getMonth()===t;)r.push(new Date(a)),a.setDate(a.getDate()+1);if(1!==a.getDay())for(;1!==a.getDay()&&(r.push(new Date(a)),a.setDate(a.getDate()+1),!isNaN(a.getDay())););return r}function t_datepicker__openDatepicker(e){if(!e.isRendered){var t=t_datepicker__getDateDivider(e.inputEl),a;if(!isNaN(+e.inputEl.value.replaceAll(t,"")))t_datepicker__validateEnteredValue(a=t_datepicker__readDateFromInput(e.inputEl),e);return e.isRendered=!0,e.datePickerEl.style.display="block",e.isOpen=!0,void t_datepicker__renderCallback(e)}var t=t_datepicker__getDateDivider(e.inputEl),a;isNaN(+e.inputEl.value.replaceAll(t,""))||t_datepicker__validateEnteredValue(a=t_datepicker__readDateFromInput(e.inputEl),e);e.datePickerEl.style.display="block",e.isOpen=!0,t_datepicker__renderCallback(e)}function t_datepicker__closeDatepicker(e){e.datePickerEl&&(e.datePickerEl.style.display="none",e.isOpen=!1,t_datepicker__renderCallback(e))}function t_datepicker__renderValue(e,t){for(var a=t.split("-"),r=0;r<3;r++)a[r].length<2&&(a[r]="0"+a[r]);var n=e.getAttribute("data-tilda-dateformat"),i=t_datepicker__getDateDivider(e);"DD-MM-YYYY"===n&&(e.value=a[2]+i+a[1]+i+a[0]),"MM-DD-YYYY"===n&&(e.value=a[1]+i+a[2]+i+a[0]),"YYYY-MM-DD"===n&&(e.value=a[0]+i+a[1]+i+a[2]),e.classList.contains("t-input_pvis")&&e.classList.add("t-input_has-content"),e.dispatchEvent(new Event("change",{bubbles:!0}))}function t_datepicker__readDateFromInput(e){var t=t_datepicker__getDateDivider(e),a=e.value.split(t),r=e.getAttribute("data-tilda-dateformat"),n={};return a.length&&("DD-MM-YYYY"===r&&(n={day:a[0],month:a[1],year:a[2]}),"MM-DD-YYYY"===r&&(n={day:a[1],month:a[0],year:a[2]}),"YYYY-MM-DD"===r&&(n={day:a[2],month:a[1],year:a[0]})),n.day=parseInt(n.day,10),n.month=parseInt(n.month,10)-1,n.year=parseInt(n.year,10),n}function t_datepicker__isDateFull(e){return void 0!==e.day&&void 0!==e.month&&void 0!==e.year&&4===e.year.toString().length}function t_datepicker__getCurrentDate(){var e=new Date,t;return{year:e.getFullYear(),month:e.getMonth(),day:e.getDate()}}function t_datepicker__getCurrentDateString(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}function t_datepicker__getOptionsHTML(e,t){for(var a=[],r=0;r<e.length;r++)a.push('<option value="'+e[r]+'"'+(e[r]===t?"selected":"")+">"+e[r]+"</option>");return a.join("")}function t_datepicker__getDateDivider(e){if(!e)return"-";var t=e.getAttribute("data-tilda-datediv");return"dash"!==t&&t?"slash"===t?"/":"dot"===t?".":"-":"-"}function t_datepicker__checkLimit(e){var t=e.maxDate.split("-"),a=e.minDate.split("-"),r=parseInt(e.currentYear.innerHTML,10),n=e.currentMonth.innerHTML;11===e.months.indexOf(n)&&r===parseInt(t[0],10)?(e.nextButtonEl.disabled=!0,e.prevButtonEl.disabled=!1):0===e.months.indexOf(n)&&r===parseInt(a[0],10)?(e.prevButtonEl.disabled=!0,e.nextButtonEl.disabled=!1):(e.nextButtonEl.disabled=!1,e.prevButtonEl.disabled=!1)}function t_datepicker__addSelectHandler(e,t,a){e.addEventListener("input",(function(e){a.innerHTML=e.target.value;var r=t.currentYear.innerHTML,n=t.months.indexOf(t.currentMonth.innerHTML);t.datePickerTable.innerHTML=t_datepicker__renderMonth(r,n,t),t_datepicker__checkLimit(t)}))}function t_datepicker__getDaysInMonth(e,t){return 1===e?t%4==0&&t%100||t%400==0?29:28:-1!==[3,5,8,10].indexOf(e)?30:31}function t_datepicker__isDateValid(e,t){if(!t_datepicker__isDateFull(e))return!1;var a=e,r=a.year,n=a.month,i=a.day,d={minYear:new Date(-864e13).getFullYear(),maxYear:new Date(864e13).getFullYear()};Object.assign(d,t);var s=r>=d.minYear&&r<=d.maxYear,c=n>=0&&n<=11,l;return i>=1&&i<=t_datepicker__getDaysInMonth(n,r)&&c&&s}function t_datepicker__getValidDate(e,t){var a=e.year,r=e.month,n=e.day,i=t_datepicker__getCurrentDate();a?a>t.maxYear?a=t.maxYear:a<t.minYear&&(a=t.minYear):a=i.year,isNaN(r)?r=i.month:r>11?r=11:r<0&&(r=0);var d=t_datepicker__getDaysInMonth(r,a),s;return n||(n=i.day),n>d?n=d:n<1&&(n=1),{day:n,month:r,year:a}}function t_datepicker__validateEnteredValue(e,t){var a=parseInt(t.maxDate.split("-")[0],10),r=parseInt(t.minDate.split("-")[0],10),n=t.datePickerEl.querySelector("."+t.selectMonthClass),i=t.datePickerEl.querySelector("."+t.selectYearClass),d=t_datepicker__getValidDate(e,{maxYear:a,minYear:r}),s=d.year,c=d.month,l=d.day;t.datePickerTable.innerHTML=t_datepicker__renderMonth(s,c,t,l),n.value=t.months[c],t.currentMonth.innerHTML=t.months[c],i.value=s,t.currentYear.innerHTML=s,t_datepicker__checkLimit(t)}function t_datepicker__validateWithRestrictions(e){var t=e.inputEl,a=t_datepicker__readDateFromInput(t),r=new Date(a.year,a.month,a.day),n=r.getDay(),i=new Date;(r.getTime()>i.getTime()&&e.disableFuture||r.getTime()<i.getTime()&&e.disablePast||0===n&&e.disableSunday||1===n&&e.disableMonday||2===n&&e.disableTuesday||3===n&&e.disableWednesday||4===n&&e.disableThursday||5===n&&e.disableFriday||6===n&&e.disableSaturday||r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()&&r.getDate()===i.getDate()&&e.disableToday)&&(t.value="")}
